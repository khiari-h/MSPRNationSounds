"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[439],{439:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(43),s=a(678),c=a(850),i=a(581),n=a(643),l=a(235),d=a(443),u=a(85),o=a(579);const f=e=>{let{apiEndpoint:t="/api/wordpress/artists_meetings"}=e;const[a,f]=(0,r.useState)([]),[h,p]=(0,r.useState)({date:"",heuredebut:"",lieu:"",type:""}),[g,m]=(0,r.useState)(1),[y,b]=(0,r.useState)(6),[x,j]=(0,r.useState)(!0);(0,u._)(b),(0,r.useEffect)((()=>{(async()=>{try{const e=await(0,l.Z)("artistMeetings",t,3600),a=await Promise.all(e.map((async e=>{if(e.acf.photo){const t=await(0,l.Z)(`logo_${e.acf.photo}`,`/api/wordpress/media/${e.acf.photo}`,3600);e.acf.photo=t.source_url}return e.acf.date=(0,d.Y)(e.acf.date),e.acf.heuredebut=(0,d.f)(e.acf.heuredebut),e.acf.heurefin=(0,d.f)(e.acf.heurefin),e})));f(a)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des rencontres!",e)}finally{j(!1)}})()}),[t]);const w=a.filter((e=>(""===h.date||e.acf.date===h.date)&&(""===h.heuredebut||e.acf.heuredebut===h.heuredebut)&&(""===h.lieu||e.acf.lieu===h.lieu)&&(""===h.type||e.acf.type===h.type))),A=g*y,$=A-y,v=w.slice($,A),S=Math.ceil(w.length/y);return(0,o.jsxs)("section",{className:"container mx-auto py-8","aria-labelledby":"artist-meetings-heading",children:[(0,o.jsx)(c.A,{content:"Rencontres avec les Artistes",type:"h1",className:"text-concert-title text-center",id:"artist-meetings-heading"}),x?(0,o.jsx)("p",{children:"Chargement des rencontres..."}):(0,o.jsx)(o.Fragment,{children:0===w.length?(0,o.jsx)("p",{children:"Aucune rencontre trouv\xe9e avec les crit\xe8res s\xe9lectionn\xe9s."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.A,{data:a.map((e=>({date:e.acf.date,heuredebut:e.acf.heuredebut,lieu:e.acf.lieu,type:e.acf.type}))),filters:h,filterKeys:["date","heuredebut","lieu","type"],handleFilterChange:(e,t)=>{p((a=>({...a,[e]:t})))},resetFilters:()=>p({date:"",heuredebut:"",lieu:"",type:""})}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(((e,t)=>(0,o.jsx)(s.A,{title:e.acf.nom,description:e.acf.description,image:e.acf.photo||"default.jpg",additionalInfo:`Date: ${e.acf.date}, Heure de d\xe9but: ${e.acf.heuredebut}, Heure de fin: ${e.acf.heurefin}, Lieu: ${e.acf.lieu}, Type: ${e.acf.type}`,type:"meeting"},t)))}),(0,o.jsx)("div",{className:"flex justify-center mt-4",children:Array.from({length:S},((e,t)=>(0,o.jsx)(n.A,{onClick:()=>m(t+1),label:String(t+1),className:"mx-1"},t+1)))})]})})]})}}}]);
//# sourceMappingURL=439.e425bd21.chunk.js.map